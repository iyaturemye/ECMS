<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <meta name="viewport" content="width=device-width, 
          initial-scale=1.0, 
          maximum-scale=1.0, 
          user-scalable=no"/>
    <h:head>
        <title>Garage LTD</title>
        <link rel="stylesheet" href="layout/css/bootstrap.css"/>
        <link rel="stylesheet" href="layout/css/mystyle.css"/>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous"/>
        <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed" rel="stylesheet"/>
        <style>
            .container{

                margin-top: 10%;

            }
            @media (max-width: 992px) {
                .myContainer2{
                    margin-top: 40% !important;
                }
                .borderStyling{
                    border-right: 0px !important;
                    border-bottom: 1px solid #ddd;
                }
                
            }
            .borderStyling{
                border-right: 1px solid #ddd;
            }
            .containAllElement{
                width: 2000px;
            }
        </style>
    </h:head>
    <h:body>
        <ui:insert>
            <ui:include src="header.xhtml"/>
        </ui:insert>
        <div class="container myContainer2" style="background:white;border:1px solid #ddd;overflow: hidden;">
            <h:form class="form-horizontal">
                <div class="row">
                    <div class="col-lg-6 col-xs-12 col-sm-12 col-md-12 borderStyling">
                        <h4 style="margin-bottom: 30px;"><center>Damaged Car A</center></h4>
                        <p:messages/>
                        <div class="form-group">
                            <label class="col-lg-12 ">Plate Number</label>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-8">
                                <h:inputText value="#{policeReportController.iyagonze.plateNum}" pt:placeholder="RAD320R"  class="form-control pnum" onblur="validate('.pnum', 'no', '.iyagonzeBtn')" required="true" requiredMessage="Plate Number  is required" id="pnum">
                                    <f:ajax listener="#{policeReportController.searchForCar('iyagonze')}" render="info" event="blur"/>
                                </h:inputText>
                                <h:message class="text text-danger" for="pnum"/>
                            </div>
                        </div>
                        <h:panelGroup id="info">
                            <div class="form-group">
                                <label class="col-lg-12">Policy Number</label>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-8">
                                    <h:inputText value="#{policeReportController.iyagonze.policyNumber}" onblur="validate('.policyNumber', 'no', '.iyagonzeBtn')"  pt:placeholder="Policy Number"  class="form-control policyNumber" required="true" requiredMessage="Policy Number  is required" id="policyNumber">
                                    </h:inputText>
                                    <h:message class="text text-danger" for="policyNumber"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-12">Name</label>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-8">
                                    <h:inputText value="#{policeReportController.iyagonze.name}"  pt:placeholder="eg:Benz,Toyota"  class="form-control" onblur="validate('.name', 'no', '.iyagonzeBtn')" required="true" requiredMessage="Name  is required" id="name">
                                    </h:inputText>
                                    <h:message class="text text-danger" for="name"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-8">Chasis Number:</label>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-8">
                                    <h:inputText value="#{policeReportController.iyagonze.chasisNum}" onblur="validate('.chasisnum', 'no', '.iyagonzeBtn')" pt:placeholder="Enter Chasis Number"  class="form-control chasisnum" required="true" requiredMessage="Chasis Number  is required" id="chasisnum"/>
                                    <h:message class="text text-danger" for="chasisnum"/>
                                </div>
                            </div>

                        </h:panelGroup>
                        <div class="form-group">
                            <label class="col-lg-6">
                                Broken Car Image
                            </label>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-12">
                                <p:fileUpload   fileUploadListener="#{vehicleController.Upload}" mode="advanced" dragDropSupport="false"
                                                sizeLimit="1000000000000" fileLimit="5" invalidFileMessage="Invalid Image Type"  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                            </div>
                        </div>
                    </div> 
                    <div class="col-lg-6 col-xs-12  col-sm-12 col-md-12 ">
                        <h4 style="margin-bottom: 30px;"><center>Damaged Car B</center></h4>

                        <div class="form-group">
                            <label class="col-lg-12">Plate Number</label>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-8">
                                <h:inputText value="#{policeReportController.iyagonzwe.plateNum}" pt:placeholder="RAD320R" onblur="validate('.iyagonzwepnum', 'yes', '.iyagonzweBtn')"  class="form-control iyagonzwepnum"  requiredMessage="Plate Number  is required" id="Iyagonzwepnum">
                                    <f:ajax listener="#{policeReportController.searchForCar('iyagonzwe')}" render="info2" event="blur"/>
                                </h:inputText>
                                <h:message class="text text-danger" for="Iyagonzwepnum"/>
                            </div>
                        </div>
                        <h:panelGroup id="info2">
                            <div class="form-group">
                                <label class="col-lg-12">Policy Number</label>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-8">
                                    <h:inputText value="#{policeReportController.iyagonzwe.policyNumber}" onblur="validate('.icyagonzwepolicyNumber', 'yes', '.iyagonzweBtn')"  pt:placeholder="Policy Number"  class="form-control icyagonzwepolicyNumber"  requiredMessage="Policy Number  is required" id="IyagonzwepolicyNumber">
                                    </h:inputText>
                                    <h:message class="text text-danger" for="IyagonzwepolicyNumber"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-12">Name</label>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-8">
                                    <h:inputText value="#{policeReportController.iyagonzwe.name}" onblur="validate('.iyagonzwename', 'yes', '.iyagonzweBtn')"  pt:placeholder="eg:Benz,Toyota"  class="form-control iyagonzwename"  requiredMessage="Name  is required" id="Iyagonzwename">
                                    </h:inputText>
                                    <h:message class="text text-danger" for="Iyagonzwename"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-12">Chasis Number:</label>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-8">
                                    <h:inputText value="#{policeReportController.iyagonzwe.chasisNum}" pt:placeholder="Enter Chasis Number" onblur="validate('.Iyagonzwechasisnum', 'yes', '.iyagonzweBtn')"   class="form-control Iyagonzwechasisnum"  requiredMessage="Chasis Number  is required" id="Iyagonzwechasisnum"/>
                                    <h:message class="text text-danger" for="Iyagonzwechasisnum"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-lg-6">
                                    Broken Car Image
                                </label>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-12">
                                    <p:fileUpload   fileUploadListener="#{vehicleController.Upload}" mode="advanced" dragDropSupport="false"
                                                    sizeLimit="1000000000000" fileLimit="5" invalidFileMessage="Invalid Image Type"  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
                                </div>
                            </div>

                        </h:panelGroup>
                    </div>
                </div>
                <div class="row" style="border-top: 1px solid #ddd;">
                    <div class="col-lg-6 col-xs-12  col-sm-12 col-md-12" style="padding-bottom: 15px;">
                        <h4><center>Third Party Form</center></h4>
                        <div class="form-group">
                            <label class="col-lg-12">Name</label>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-8">
                                <h:inputText id="thirdname" value="#{policeReportController.thirdParty.name}"  requiredMessage="Name is required" class="form-control"/>
                                <h:message for="thirdname" class="text text-danger"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-12">National ID</label>

                        </div>
                        <div class="form-group">
                            <div class="col-lg-8">
                                <h:inputText id="nationalId" value="#{policeReportController.thirdParty.nationalId}"   requiredMessage="NationalID  is required" class="form-control"/>
                                <h:message for="nationalId" class="text text-danger"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3">Location</label>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-8">
                                <h:inputText value="#{policeReportController.policeReport.location}" id="autocomplete" onfocus="geolocate()"  pt:placeholder="Kigali,Nyarugenge,Muhima kn5"  class="form-control autocomplete" required="true" requiredMessage="Location  is required"/>
                                <h:message class="text text-danger autocomplete" for="autocomplete"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3">What Happen</label>
                        </div>
                        <div class="form-group">

                            <div class="col-lg-12">
                                <p:editor id="description" value="#{policeReportController.policeReport.description}"  requiredMessage="Reason is required"/>
                                <h:message for="description" class="text text-danger"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-lg-3">Additional Document</label>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-12">
                                <p:fileUpload id="file"   fileUploadListener="#{policeReportController.Upload}" mode="advanced" dragDropSupport="false"
                                              sizeLimit="1000000000000" fileLimit="1" invalidFileMessage="Invalid Image Type"  allowTypes="/(\.|\/)(pdf)$/" />
                                <h:message for="file" class="text-danger"/>
                            </div>
                        </div>
                        
                        <h:commandButton action="#{policeReportController.create()}" value="Save" class="btn btn-primary">
                        </h:commandButton>

                    </div>
                </div>
            </h:form>

        </div>
        <script src="layout/js/bootstrap.js"/>
        <script>

                                    function validate(input, isAbbr, btn) {
                                        var output = $(input).val();
                                        console.log(checkInput(isAbbr));
                                        if (checkInput(isAbbr)) {
                                            $(btn).removeAttr("disabled");
                                        } else {
                                            $(btn).attr("disabled", "true");
                                        }
                                    }
                                    function checkInput(yesOrNo) {
                                        if (yesOrNo === "no") {
                                            var plateNumber = $(".pnum").val();
                                            var policyNumber = $(".policyNumber").val();
                                            var name = $(".name").val();
                                            if (plateNumber === "" || policyNumber === "" || name === "") {
                                                return false;
                                            }
                                            return true;
                                        } else {
                                            var plateNumber = $(".iyagonzwepnum").val();
                                            var policyNumber = $(".iyagonzwepolicyNumber").val();
                                            var name = $(".iyagonzwename").val();
                                            if (plateNumber === "" || policyNumber === "" || name === "") {
                                                return false;
                                            }
                                            return true;

                                        }

                                    }
                                    $(function () {
                                        $(".nextBtn").click(function () {

                                            var lastLocation = $(".containAllElement").attr("data-attr");
                                            var position = $(".containAllElement").attr("times");
                                            $(".containAllElement").animate({
                                                "margin-left": lastLocation - 660
                                            }, 1000);
                                            $(".containAllElement").removeAttr("data-attr");
                                            $(".containAllElement").removeAttr("times");
                                            $(".containAllElement").attr("data-attr", lastLocation - 660);
                                            $(".containAllElement").attr("times", position + 1);

                                        });
                                        $(".back").click(function () {
                                            var lastLocation = $(".containAllElement").attr("data-attr");
                                            var position = $(".containAllElement").attr("times");
                                            console.log(parseInt(lastLocation) + 660);

                                            $(".containAllElement").animate({
                                                "margin-left": parseInt(lastLocation) + 660
                                            }, 1000);
                                            $(".containAllElement").removeAttr("data-attr");
                                            $(".containAllElement").removeAttr("times");
                                            $(".containAllElement").attr("data-attr", parseInt(lastLocation) + 660);
                                            $(".containAllElement").attr("times", parseInt(position) - 1);
                                        });
                                    });
                                    $(function(){
                                         $("#mobile-nav-toggle").find("i").attr("class","fas fa-align-justify");
                                    });
        </script>
        <!--<script src="layout/js/jquery.js"></script>-->
        <!--<script src="layout/js/popper.min.js"></script>-->
        <script src="layout/js/bootstrap.min.js"></script>			
        <script src="layout/js/easing.min.js"></script>			
        <script src="layout/js/hoverIntent.js"></script>
        <script src="layout/js/superfish.min.js"></script>	
        <!--<script src="layout/js/jquery.ajaxchimp.min.js"></script>-->
        <script src="layout/js/jquery.magnific-popup.min.js"></script>	
        <!--<script src="layout/js/jquery.tabs.min.js"></script>-->						
        <script src="layout/js/jquery.nice-select.min.js"></script>	
        <script src="layout/js/isotope.pkgd.min.js"></script>			
        <script src="layout/js/waypoints.min.js"></script>
        <script src="layout/js/jquery.counterup.min.js"></script>
        <script src="layout/js/simple-skillbar.js"></script>							
        <script src="layout/js/owl.carousel.min.js"></script>							
        <script src="layout/js/mail-script.js"></script>	
        <script src="layout/js/main.js"></script>
    </h:body>
</html>

